#!/usr/bin/env bash
MODEL=${MODEL:-gemma3:12b}
echo "üß† $MODEL REPL ‚Äî press Ctrl+D to exit"

while true; do
  read -rp "> " input || break
  [[ -z "$input" ]] && continue
  jq -nc --arg model "$MODEL" --arg prompt "$input"     '{model: $model, prompt: $prompt, stream: false}' |
    curl -s http://localhost:11434/api/generate       -H "Content-Type: application/json"       -d @- |
    jq -r '.response // "‚ö†Ô∏è Empty response or model error"' |
    glow --width=200 --style=dark
done
